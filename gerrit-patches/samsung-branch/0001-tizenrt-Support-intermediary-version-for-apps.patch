From fb2d53fa8d658b078b91c45a4b1f6c57ca9f0f9d Mon Sep 17 00:00:00 2001
From: Philippe Coval <philippe.coval@osg.samsung.com>
Date: Wed, 16 May 2018 17:01:41 +0200
Subject: [PATCH] tizenrt: Support intermediary version for apps

Change-Id: I34d7a53474cfc5f1417398089af01f665b31c73d
Bug: https://jira.iotivity.org/projects/LITE/issues/LITE-4
Signed-off-by: Philippe Coval <philippe.coval@osg.samsung.com>
---
 tests/port/tizenrt/Makefile | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/tests/port/tizenrt/Makefile b/tests/port/tizenrt/Makefile
index ac5abf30..89959265 100644
--- a/tests/port/tizenrt/Makefile
+++ b/tests/port/tizenrt/Makefile
@@ -29,7 +29,7 @@ app_dir?=${top_dir}/port/tizenrt
 tizenrt_dir?=${top_dir}/deps/TizenRT
 os_dir?=${tizenrt_dir}/os
 os_url?=https://github.com/Samsung/TizenRT
-os_branch?=1.1_Public_Release
+os_branch?=13aa00554e0b7a416ff3c453bf3192c40c71ae86
 os_machine?=artik053
 os_image_type?=minimal
 configure_file?=${os_dir}/.config
@@ -56,9 +56,11 @@ prep_files+=${top_dir}/deps/tinycbor/LICENSE
 
 all?=prep configure build
 
+git?=git
 
 ${tizenrt_dir}:
-	git clone --depth 1 --recursive -b "${os_branch}" "${os_url}" "$@"
+	${git} clone "${os_url}" ${tizenrt_dir}
+	cd $@ && ${git} reset --hard "${os_branch}"
 
 ${tizenrt_dir}/external/iotivity-constrained.mk.tmp: iotivity-constrained.mk ${os_external_makefile}.orig
 	cp "$<" "$@.tmp"
-- 
2.16.1.windows.1

